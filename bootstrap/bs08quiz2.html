<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <!-- <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.2.3/cosmo/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
  </head>
  <body>

    <!--
        container - 화면이 배치될 기본 위치

        1. container : 기본 컨테이너이며 폭에 반응하여 자동 조정(뚝뚝끊김)
        2. container-fluid : 폭의 변화에 부드럽게 반응하는 컨테이너(100%)

        row - 한 줄 영역 , col - 한 칸 영역

        사이즈 - sm, md, lg, xl
    -->
    <div class="container-fluid mt-4" id="app">

        <div class="row">
            <div class="offset-md-2 col-md-8">

                <!-- 문서 제목 (Jumbotron) -->
                <div class="row text-center">
                    <div class="col bg-dark text-light p-4 rounded">
                        <h1>제목</h1>
                        <p>부제목 또는 설명</p>
                    </div>
                </div>

              
                <!-- 포켓몬스터 등록을 위한 화면-->
                <form action="insertProcess" method="post" 
                v-on:submit.prevent="sendData" autocomplete="off">

                    <!-- 번호 입력창 -->
                    <div class="row mt-4">
                        <label class="col-sm-3 col-form-label">번호</label>
                        <div class="col-sm-9">
                            <input type="text" name="no" v-model.number="pocketmon.no" class="form-control rounded">
                        </div>
                    </div>
                    <!-- 이름 입력창 -->
                    <div class="row mt-4">
                        <label class="col-sm-3 col-form-label">이름</label>
                        <div class="col-sm-9">
                            <input type="text" name="name" v-model="pocketmon.name" class="form-control rounded" v-on:input="pocketmon.name = $event.target.value">
                        </div>
                    </div>
                    <!-- 속성 입력창 -->
                    <div class="row mt-4">
                        <label class="col-sm-3 col-form-label">속성</label>
                        <div class="col-sm-9">
                            <input type="text" name="type" v-model="pocketmon.type" class="form-control rounded" v-on:input="pocketmon.type = $event.target.value">
                        </div>
                    </div>
                    <!-- 전송 버튼 -->
                    <div class="row mt-4">
                        <div class="col">
                            <a type="button" href="#" class="btn btn-secondary me-1">
                                <i class="fa-solid fa-list"></i>
                                목록
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fa-solid fa-plus"></i>
                                등록
                            </button>

                        </div>
                    </div>
                </form>
            </div>
        </div>

        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://unpkg.com/vue@3.2.36"></script>
        <script>
   
          const app = Vue.createApp({
                // 데이터 설정 영역
                data(){
                    return {
                     pocketmon : {
                        no : "",
                        name : "",
                        type : "",
                        get noValid(){
                            const value = parseInt(this.no);
                            return value > 0;
                        },
                        get nameValid(){
                            const regex = /^[가-힣]{1,7}$/;
                            return regex.test(this.name);
                        },
                        get typeValid(){
                           const list = ["풀","물","불","전기","땅","바람"];
                           return list.includes(this.type);
                        },
                        get allValid(){
                            return this.noValid && this.nameValid && this.typeValid;
                        },
                     },

                    };
                },
            
                computed:{
                   
                },
                methods:{
                    // 이벤트 설정 시 함수를 이름만 적어서 Vue가 부르도록 하면
                    // 이벤트 객체를 1번 매개변수에 자동으로 설정해준다
                   sendData(e){
                    // 유효성 검사



                    // console.log(e.target);
                    // e.target이 form으로 submit()으로 전송을 지시
                    e.target.submit();
                   }, 
                },
                watch:{

                },
            });
            app.mount("#app");
        </script>

  </body>
</html>